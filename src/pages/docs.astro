---
import Layout from '../layouts/Layout.astro';
import ParameterDoc from '../components/ParameterDoc.astro';
---

<Layout title="API Documentation - DrawCanvas">
    <main class="min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8">
        <div class="min-h-screen mx-auto max-w-4xl">
            <h1 class="text-4xl font-bold text-foreground mb-2">API Documentation</h1>
            <p class="text-muted-foreground mb-8">Learn how to configure the drawing canvas using URL parameters</p>

            <div class="space-y-8">
                <ParameterDoc
                        name="brushSize"
                        description="Controls the default brush/eraser size in pixels."
                        type="Number (1-50)"
                        defaultValue="5"
                        examples={["/?brushSize=15"]}
                        codeExample="?brushSize=10"
                />

                <ParameterDoc
                        name="colors"
                        description="Defines which colors are available in the color picker. Use comma-separated hex values or '*' for all default colors."
                        type="Comma-separated hex colors or '*'"
                        defaultValue="8 default colors"
                        examples={["/?colors=*", "/?colors=#ff0000,#00ff00"]}
                        codeExample="?colors=#ff0000,#00ff00,#0000ff"
                />

                <ParameterDoc
                        name="toolbarPosition"
                        description="Sets the position of the toolbar. Options: up, down, left, right."
                        type="String (up, down, left, right)"
                        defaultValue="up"
                        examples={["/?toolbarPosition=left"]}
                        codeExample="?toolbarPosition=right"
                />

                <ParameterDoc
                        name="bgImage"
                        description="Sets a background image URL for the canvas. The image will be scaled to cover the entire canvas."
                        type="URL-encoded image URL"
                        defaultValue="None"
                        examples={[]}
                        codeExample="?bgImage=https://example.com/image.jpg"
                />

                <ParameterDoc
                        name="bgOpacity"
                        description="Controls the opacity of the background image. Only works when bgImage is set."
                        type="Number (0-100)"
                        defaultValue="50"
                        examples={["/?bgImage=...&bgOpacity=30"]}
                        codeExample="?bgOpacity=75"
                />

                <ParameterDoc
                        name="bgSize"
                        description="Controls the size of the background image as a percentage of the canvas."
                        type="Number (10-200)"
                        defaultValue="100 (full size)"
                        examples={["/?bgSize=150"]}
                        codeExample="?bgSize=75"
                />

                <ParameterDoc
                        name="bgImagePosX"
                        description="Horizontal position of the background image (0-100%). 0% = left, 50% = center, 100% = right."
                        type="Number (0-100)"
                        defaultValue="50"
                        examples={["/?bgImage=...&bgImagePosX=25"]}
                        codeExample="?bgImagePosX=75"
                />

                <ParameterDoc
                        name="bgImagePosY"
                        description="Vertical position of the background image (0-100%). 0% = top, 50% = center, 100% = bottom."
                        type="Number (0-100)"
                        defaultValue="50"
                        examples={["/?bgImage=...&bgImagePosY=75"]}
                        codeExample="?bgImagePosY=25"
                />

                <ParameterDoc
                        name="bgColor"
                        description="Sets the background color of the canvas. Use URL-encoded hex value."
                        type="URL-encoded hex color"
                        defaultValue="#ffffff"
                        examples={[]}
                        codeExample="?bgColor=%23000000"
                />

                <!-- Grid Parameters Section -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-2xl font-bold text-foreground mb-3">Grid Controls</h2>
                    <p class="text-muted-foreground mb-4">Adds a customizable grid overlay to the canvas.</p>

                    <div class="space-y-4">
                        <ParameterDoc
                                name="gridEnabled"
                                description="Enables or disables the grid overlay."
                                type="Boolean (true/false)"
                                defaultValue="false"
                                examples={["/?gridEnabled=true"]}
                                codeExample="?gridEnabled=true"
                        />

                        <ParameterDoc
                                name="gridColor"
                                description="Sets the grid color (URL-encoded hex value)."
                                type="URL-encoded hex color"
                                defaultValue="#cccccc"
                                examples={[]}
                                codeExample="?gridColor=%23ff0000"
                        />

                        <ParameterDoc
                                name="gridOpacity"
                                description="Sets the grid opacity (0-100)."
                                type="Number (0-100)"
                                defaultValue="30"
                                examples={[]}
                                codeExample="?gridOpacity=50"
                        />

                        <ParameterDoc
                                name="gridStyle"
                                description="Sets the grid line style."
                                type="String (solid, dotted, dashed, sparse)"
                                defaultValue="solid"
                                examples={[]}
                                codeExample="?gridStyle=dotted"
                        />

                        <ParameterDoc
                                name="gridSize"
                                description="Sets the grid cell size in pixels (10-100)."
                                type="Number (10-100)"
                                defaultValue="20"
                                examples={[]}
                                codeExample="?gridSize=30"
                        />
                    </div>
                </div>

                <!-- Show Inputs Parameter -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-2xl font-bold text-foreground mb-3">Input Controls</h2>
                    <p class="text-muted-foreground mb-4">Controls which input elements are visible in the toolbar using a JSON object.</p>

                    <ParameterDoc
                            name="showInputs"
                            description="Controls visibility of input controls in the toolbar. Use a JSON object with boolean values for each control type."
                            type="JSON Object"
                            defaultValue='{"eraserInput":true,"cursorSizeInput":true,"enableUndoRedoInput":true,"backgroundInputs":true,"gridInputs":true}'
                            examples={[]}
                            codeExample='?showInputs={"eraserInput":false,"gridInputs":false}'
                    />

                    <div class="mt-4 space-y-2">
                        <h4 class="font-semibold text-foreground">Properties:</h4>
                        <ul class="list-disc list-inside space-y-1 text-muted-foreground">
                            <li><code>eraserInput</code> - Shows/hides the eraser tool button</li>
                            <li><code>cursorSizeInput</code> - Shows/hides the brush size slider</li>
                            <li><code>enableUndoRedoInput</code> - Shows/hides undo/redo buttons</li>
                            <li><code>backgroundInputs</code> - Shows/hides background color and image controls</li>
                            <li><code>gridInputs</code> - Shows/hides grid configuration controls</li>
                        </ul>
                    </div>
                </div>

                <!-- Complete Example -->
                <div class="bg-primary/10 border border-primary rounded-lg p-6">
                    <h2 class="text-2xl font-bold text-foreground mb-3">Complete Example</h2>
                    <p class="text-muted-foreground mb-4">Here's a full example combining all parameters:</p>
                    <div class="bg-secondary rounded-lg p-4 overflow-x-auto">
                        <code class="text-sm text-foreground whitespace-nowrap">
                            {"/?brushSize=12&colors=#ff0000,#00ff00,#0000ff&toolbarPosition=left&bgImage=https://example.com/bg.jpg&bgOpacity=40&gridEnabled=true&gridColor=%23cccccc&gridOpacity=25&gridStyle=dotted&gridSize=25&showInputs={\"eraserInput\":false,\"cursorSizeInput\":true,\"enableUndoRedoInput\":true,\"backgroundInputs\":false,\"gridInputs\":true}"}
                        </code>
                    </div>
                </div>
            </div>
        </div>
    </main>
</Layout>